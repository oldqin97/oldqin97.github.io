"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2425],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),i=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=i(e.components);return r.createElement(s.Provider,{value:n},e.children)},y="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),y=i(t),m=a,d=y["".concat(s,".").concat(m)]||y[m]||c[m]||l;return t?r.createElement(d,p(p({ref:n},u),{},{components:t})):r.createElement(d,p({ref:n},u))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,p=new Array(l);p[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[y]="string"==typeof e?e:a,p[1]=o;for(var i=2;i<l;i++)p[i]=t[i];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9999:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>i});var r=t(7462),a=(t(7294),t(3905));const l={sidebar_position:8,title:"07-TS \u4e2d\u7684\u7c7b\u578b\u4f53\u64cd\u548c\u5185\u7f6e\u5de5\u5177",tags:["TS"]},p="\u7c7b\u578b\u4f53\u64cd",o={unversionedId:"TS-basics/\u7c7b\u578b\u4f53\u64cd",id:"TS-basics/\u7c7b\u578b\u4f53\u64cd",title:"07-TS \u4e2d\u7684\u7c7b\u578b\u4f53\u64cd\u548c\u5185\u7f6e\u5de5\u5177",description:"\u6761\u4ef6\u7c7b\u578b",source:"@site/docs/TS-basics/08-\u7c7b\u578b\u4f53\u64cd.md",sourceDirName:"TS-basics",slug:"/TS-basics/\u7c7b\u578b\u4f53\u64cd",permalink:"/docs/TS-basics/\u7c7b\u578b\u4f53\u64cd",draft:!1,tags:[{label:"TS",permalink:"/docs/tags/ts"}],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"07-TS \u4e2d\u7684\u7c7b\u578b\u4f53\u64cd\u548c\u5185\u7f6e\u5de5\u5177",tags:["TS"]},sidebar:"tutorialSidebar",previous:{title:"07-TS \u4e2d\u7684\u6a21\u5757\u5316",permalink:"/docs/TS-basics/ts\u4e2d\u7684\u6a21\u5757\u5316"}},s={},i=[{value:"\u6761\u4ef6\u7c7b\u578b",id:"\u6761\u4ef6\u7c7b\u578b",level:2},{value:"\u6848\u4f8b",id:"\u6848\u4f8b",level:3},{value:"\u5728\u6761\u4ef6\u7c7b\u578b\u4e2d\u63a8\u65ad (infer)",id:"\u5728\u6761\u4ef6\u7c7b\u578b\u4e2d\u63a8\u65ad-infer",level:2},{value:"\u5206\u53d1\u6761\u4ef6\u7c7b\u578b",id:"\u5206\u53d1\u6761\u4ef6\u7c7b\u578b",level:2},{value:"\u5185\u7f6e\u5de5\u5177\u91cd\u5199",id:"\u5185\u7f6e\u5de5\u5177\u91cd\u5199",level:2},{value:"Required&lt;Type&gt;",id:"requiredtype",level:3},{value:"Readonly&lt;Type&gt;",id:"readonlytype",level:3},{value:"Record&lt;Key,Type&gt;",id:"recordkeytype",level:3}],u={toc:i},y="wrapper";function c(e){let{components:n,...t}=e;return(0,a.kt)(y,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u7c7b\u578b\u4f53\u64cd"},"\u7c7b\u578b\u4f53\u64cd"),(0,a.kt)("h2",{id:"\u6761\u4ef6\u7c7b\u578b"},"\u6761\u4ef6\u7c7b\u578b"),(0,a.kt)("p",null,"\u5f00\u53d1\u4e2d,\u6211\u4eec\u9700\u8981\u57fa\u4e8e\u8f93\u5165\u7684\u503c\u6765\u51b3\u5b9a\u8f93\u51fa\u7684\u503c,\u540c\u6837\u6211\u4eec\u4e5f\u9700\u8981\u57fa\u4e8e\u8f93\u5165\u7684\u503c\u7684\u7c7b\u578b\u6765\u51b3\u5b9a\u8f93\u51fa\u7684\u503c\u7684\u7c7b\u578b"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u6761\u4ef6\u7c7b\u578b")," \u5c31\u662f\u7528\u6765\u5e2e\u52a9\u6211\u4eec\u63cf\u8ff0\u8f93\u5165\u7c7b\u578b\u548c\u8f93\u51fa\u7c7b\u578b\u4e4b\u95f4\u7684\u5173\u7cfb"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"\u6761\u4ef6\u7c7b\u578b"),"\u7684\u5199\u6cd5\u6709\u70b9\u7c7b\u578b\u4e8e JS \u4e2d\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f (condition ? trueExpression : falseExpression)")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"SomeType extends OtherType ? TrueType : FalseType;")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type IDType = number | string;\n\ntype ResType = number extends IDType ? true : false;\n// ResType true\n")),(0,a.kt)("h3",{id:"\u6848\u4f8b"},"\u6848\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function sum(num1: number, num2: number): number;\nfunction sum(num1: string, num2: string): string;\nfunction sum(num1: any, num2: any) {\n  return num1 + num2;\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function sum<T>(num1: T, num2: T): T extends number ? number : string;\nfunction sum(num1: any, num2: any) {\n  return num1 + num2;\n}\n\nlet res = sum(1, 312);\nlet res1 = sum('qwe', 'ewq');\n")),(0,a.kt)("h2",{id:"\u5728\u6761\u4ef6\u7c7b\u578b\u4e2d\u63a8\u65ad-infer"},"\u5728\u6761\u4ef6\u7c7b\u578b\u4e2d\u63a8\u65ad (infer)"),(0,a.kt)("p",null,"\u6761\u4ef6\u7c7b\u578b\u63d0\u4f9b\u4e86 ",(0,a.kt)("inlineCode",{parentName:"p"},"infer")," \u5173\u952e\u5b57, \u53ef\u4ee5\u4ece\u6b63\u5728\u6bd4\u8f83\u7684\u7c7b\u578b\u4e2d\u63a8\u65ad\u7c7b\u578b, \u7136\u540e\u5728 true \u5206\u652f\u4e2d\u5f15\u7528\u8be5\u63a8\u65ad\u7ed3\u679c"),(0,a.kt)("p",null,"\u6211\u4eec\u73b0\u5728\u6709\u4e2a\u51fd\u6570\u7c7b\u578b,\u60f3\u8981\u83b7\u53d6\u5230\u4e00\u4e2a\u51fd\u6570\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"\u53c2\u6570\u7c7b\u578b"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u503c\u7c7b\u578b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type CalcFnType = (num1: number, num2: number) => number;\n\ntype ReturnType<T extends (...args: any[]) => any> = T extends (...args: any[]) => infer R\n  ? R\n  : never;\n\n// \u5185\u7f6e\u5de5\u5177\ntype CalcReturnType0 = ReturnType<CalcFnType>; // number\ntype fooReturnType0 = ReturnType<typeof foo>; // string\n\ntype CalcReturnType = ReturnType<CalcFnType>; // type CalcReturnType = number\n\ntype Parameters<T extends (...args: any[]) => any> = T extends (...args: infer P) => any\n  ? P\n  : never;\n\ntype CalcParameterType = Parameters<CalcFnType>; // type CalcParameterType = [num1: number, num2: number]\n\n")),(0,a.kt)("h2",{id:"\u5206\u53d1\u6761\u4ef6\u7c7b\u578b"},"\u5206\u53d1\u6761\u4ef6\u7c7b\u578b"),(0,a.kt)("p",null,"\u5f53\u6211\u4eec\u5728\u6cdb\u578b\u4e2d\u4f7f\u7528\u6761\u4ef6\u7c7b\u578b\u7684\u65f6\u5019, \u5982\u679c\u4f20\u5165\u4e00\u4e2a\u8054\u5408\u7c7b\u578b,\u5c31\u4f1a\u53d8\u6210",(0,a.kt)("inlineCode",{parentName:"p"},"\u5206\u53d1\u7684 (distributive)")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type ToArray<T> = T extends any ? T[] : never;\n\ntype newType = ToArray<number | string>;\n// type newType = string[] | number[]\n")),(0,a.kt)("h2",{id:"\u5185\u7f6e\u5de5\u5177\u91cd\u5199"},"\u5185\u7f6e\u5de5\u5177\u91cd\u5199"),(0,a.kt)("h3",{id:"requiredtype"},"Required\\<Type",">"),(0,a.kt)("p",null,"\u7528\u4e8e\u6784\u9020\u4e00\u4e2a Type,\u4e0b\u9762\u6240\u6709\u7684\u7c7b\u578b\u90fd\u4e3a\u5fc5\u586b\u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type MyRequired<T> = {\n  [K in keyof T]-?: T[K];\n};\n\ninterface IPerson {\n  name: string;\n  grade?: number;\n  test?: string;\n}\n\ntype IPersonRequired = MyRequired<IPerson>;\n/**\n  type IPersonRequired = {\n    name: string;\n    grade: number;\n    test: string;\n  }\n*/\n\ntype res = Required<IPerson>;\n")),(0,a.kt)("h3",{id:"readonlytype"},"Readonly\\<Type",">"),(0,a.kt)("p",null,"\u7528\u4e8e\u6784\u9020\u4e00\u4e2a Type \u5185\u6240\u6709\u5c5e\u6027\u5168\u90fd\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type MyReadonly<T> = {\n  readonly [K in keyof T]: T[K];\n};\n\ninterface IPerson {\n  name: string;\n  grade: number;\n  test: string;\n}\n\ntype IPersonReadonly = MyReadonly<IPerson>;\n\n/**\n type IPersonReadonly = {\n    readonly name: string;\n    readonly grade: number;\n    readonly test: string;\n  }\n */\n\ntype IPersonReadonly = Readonly<IPerson>;\n")),(0,a.kt)("h3",{id:"recordkeytype"},"Record\\<Key,Type",">"),(0,a.kt)("p",null,"\u7528\u4e8e\u6784\u9020\u4e00\u4e2a\u5bf9\u8c61\u7c7b\u578b,\u5b83\u6240\u6709\u7684 key \u90fd\u662f Keys \u7c7b\u578b,\u5b83\u6240\u6709\u7684 value \u90fd\u662f Type \u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"interface IPerson {\n  name: string;\n  grade: number;\n  test: string;\n}\n\ntype MyRecord<K extends keyof any, T> = {\n  [P in K]: T;\n};\n\nconst p1: IPerson = {\n  name: '',\n  grade: 0,\n  test: '',\n};\nconst p2: IPerson = {\n  name: '',\n  grade: 0,\n  test: '',\n};\ntype CityType = '\u8d35\u5dde' | '\u5317\u4eac';\n\nconst data: MyRecord<CityType, IPerson> = {\n  \u8d35\u5dde: p1,\n  \u5317\u4eac: p2,\n};\n\nconst data2: Record<CityType, IPerson> = {\n  \u8d35\u5dde: p1,\n  \u5317\u4eac: p2,\n};\n")))}c.isMDXComponent=!0}}]);