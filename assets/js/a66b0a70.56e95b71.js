"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5180],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>d});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=s(t),g=a,d=m["".concat(p,".").concat(g)]||m[g]||u[g]||i;return t?r.createElement(d,l(l({ref:n},c),{},{components:t})):r.createElement(d,l({ref:n},c))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=g;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[m]="string"==typeof e?e:a,l[1]=o;for(var s=2;s<i;s++)l[s]=t[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},123:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var r=t(7462),a=(t(7294),t(3905));const i={sidebar_position:3,title:"03-TS \u4e2d\u7ec6\u8282",tags:["TS"]},l=void 0,o={unversionedId:"TS-basics/ts\u7ec6\u8282",id:"TS-basics/ts\u7ec6\u8282",title:"03-TS \u4e2d\u7ec6\u8282",description:"\u7c7b\u578b\u522b\u540d",source:"@site/docs/TS-basics/03-ts\u7ec6\u8282.md",sourceDirName:"TS-basics",slug:"/TS-basics/ts\u7ec6\u8282",permalink:"/docs/TS-basics/ts\u7ec6\u8282",draft:!1,tags:[{label:"TS",permalink:"/docs/tags/ts"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"03-TS \u4e2d\u7ec6\u8282",tags:["TS"]},sidebar:"tutorialSidebar",previous:{title:"02-TS \u4e2d\u7684\u7c7b\u578b",permalink:"/docs/TS-basics/ts\u4e2d\u7684\u7c7b\u578b"},next:{title:"04-TS \u4e2d\u7684\u51fd\u6570\u7c7b\u578b",permalink:"/docs/TS-basics/ts\u4e2d\u7684\u51fd\u6570\u7c7b\u578b"}},p={},s=[{value:"\u7c7b\u578b\u522b\u540d",id:"\u7c7b\u578b\u522b\u540d",level:2},{value:"\u63a5\u53e3\u7684\u58f0\u660e",id:"\u63a5\u53e3\u7684\u58f0\u660e",level:2},{value:"type \u548c interface \u7684\u533a\u522b",id:"type-\u548c-interface-\u7684\u533a\u522b",level:3},{value:"\u7c7b\u578b\u65ad\u8a00 as (type assertions)",id:"\u7c7b\u578b\u65ad\u8a00-as-type-assertions",level:2},{value:"\u975e\u7a7a\u7c7b\u578b\u65ad\u8a00 <code>!</code>",id:"\u975e\u7a7a\u7c7b\u578b\u65ad\u8a00-",level:2},{value:"\u5b57\u9762\u91cf\u7c7b\u578b literal types",id:"\u5b57\u9762\u91cf\u7c7b\u578b-literal-types",level:2},{value:"\u4f7f\u7528\u573a\u666f",id:"\u4f7f\u7528\u573a\u666f",level:3},{value:"\u7c7b\u578b\u7f29\u5c0f Type Narrowing",id:"\u7c7b\u578b\u7f29\u5c0f-type-narrowing",level:2},{value:"\u5e38\u89c1\u7684\u7c7b\u578b\u4fdd\u62a4\u6709\u5982\u4e0b\u51e0\u79cd",id:"\u5e38\u89c1\u7684\u7c7b\u578b\u4fdd\u62a4\u6709\u5982\u4e0b\u51e0\u79cd",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:3}],c={toc:s},m="wrapper";function u(e){let{components:n,...t}=e;return(0,a.kt)(m,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u7c7b\u578b\u522b\u540d"},"\u7c7b\u578b\u522b\u540d"),(0,a.kt)("p",null,"\u5f53\u6211\u4eec\u60f3\u8981\u591a\u6b21\u4f7f\u7528\u7c7b\u578b\u65f6,\u4e0d\u9700\u8981\u91cd\u590d\u7f16\u5199\u591a\u6b21"),(0,a.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u7ed9\u5bf9\u8c61\u8d77\u4e00\u4e2a\u7c7b\u578b\u522b\u540d\u5728\u5176\u4ed6\u5730\u65b9\u591a\u6b21\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type IdType = number | string;\n\nfunction printID(id: IdType) {\n  console.log(id);\n}\n\ntype PointType = { x: number, y: number, z?: number };\n\nfunction printCoordinate(point: PointType) {\n  console.log(point.x);\n}\n")),(0,a.kt)("h2",{id:"\u63a5\u53e3\u7684\u58f0\u660e"},"\u63a5\u53e3\u7684\u58f0\u660e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// interface \u7684\u58f0\u660e\ninterface PointType2 {\n  x: number;\n  y: number;\n  z?: number;\n}\nfunction printCoordinate(point: PointType2) {\n  console.log(point.x);\n}\n")),(0,a.kt)("p",null,"\u7c7b\u578b\u522b\u540d\u548c\u63a5\u53e3\u975e\u5e38\u76f8\u4f3c,\u5728\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b\u7684\u65f6\u5019,\u4f60\u53ef\u4ee5\u4efb\u610f\u9009\u62e9\u4f7f\u7528\n\u63a5\u53e3\u7684\u51e0\u4e4e\u6240\u6709\u7279\u6027\u90fd\u53ef\u4ee5\u5728 type \u4e2d\u4f7f\u7528"),(0,a.kt)("h3",{id:"type-\u548c-interface-\u7684\u533a\u522b"},"type \u548c interface \u7684\u533a\u522b"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"type")," \u7c7b\u578b\u7684\u4f7f\u7528\u8303\u56f4\u66f4\u5e7f ",(0,a.kt)("inlineCode",{parentName:"li"},"interface")," \u53ea\u80fd\u58f0\u660e\u5bf9\u8c61",(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type MyNumber = number;\ntype IDType = number | string;\n")),(0,a.kt)("img",{parentName:"li",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518150831.png",alt:"type && interface 1"})),(0,a.kt)("li",{parentName:"ol"},"\u5728\u58f0\u660e\u5bf9\u8c61\u7684\u65f6\u5019 ",(0,a.kt)("inlineCode",{parentName:"li"},"interface")," \u53ef\u4ee5\u591a\u6b21\u58f0\u660e",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"type")," \u4e0d\u5141\u8bb8\u4e24\u4e2a\u76f8\u540c\u540d\u79f0\u7684\u522b\u540d\u540c\u65f6\u5b58\u5728\n",(0,a.kt)("img",{parentName:"li",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518151147.png",alt:"type error"})),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"interface")," \u53ef\u4ee5\u591a\u6b21\u58f0\u660e\u4e00\u4e2a\u63a5\u53e3\u540d\u79f0\n",(0,a.kt)("img",{parentName:"li",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518151416.png",alt:"interface"})),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"interface")," \u652f\u6301 ",(0,a.kt)("strong",{parentName:"li"},"\u7ee7\u627f")," \u901a\u8fc7\u5173\u952e\u5b57 ",(0,a.kt)("inlineCode",{parentName:"li"},"extends")," \u5b9e\u73b0\u7ee7\u627f",(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"interface IPerson {\n  name: string;\n  grade: number;\n}\ninterface IKun extends IPerson {\n  hobby: string[];\n}\nconst ikun1: IKun = {\n  name: 'kunkun',\n  grade: 1,\n  hobby: ['ball', 'song', 'dance'],\n};\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"interface")," \u53ef\u4ee5\u88ab\u7c7b\u5b9e\u73b0")))),(0,a.kt)("p",null,"\u603b\u7ed3, \u5982\u679c\u662f\u975e\u5bf9\u8c61\u7c7b\u578b\u7684\u5b9a\u4e49\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"type"),", \u5982\u679c\u662f\u5bf9\u8c61\u7c7b\u578b\u7684\u58f0\u660e\u90a3\u4e48\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"interface")),(0,a.kt)("h2",{id:"\u7c7b\u578b\u65ad\u8a00-as-type-assertions"},"\u7c7b\u578b\u65ad\u8a00 as (type assertions)"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518154211.png",alt:"querySelector"})),(0,a.kt)("p",null,"TS \u65e0\u6cd5\u83b7\u53d6\u5177\u4f53\u7684\u7c7b\u578b\u6d88\u606f,\u4e0d\u77e5\u9053\u4f60\u67e5\u627e\u7684\u8fd9\u4e2a dom \u5143\u7d20\u662f\u5426\u662f\u4e00\u4e2a",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLImageElement"),"\u5bf9\u8c61, \u53ea\u80fd\u7ed9\u5b83\u5b9a\u4e49\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"Element")," \u5bf9\u8c61, ",(0,a.kt)("inlineCode",{parentName:"p"},"Element")," \u5bf9\u8c61\u81ea\u7136\u4e0d\u5b58\u5728 ",(0,a.kt)("strong",{parentName:"p"},"src")," \u548c ",(0,a.kt)("strong",{parentName:"p"},"alt")," \u5c5e\u6027\u4e86"),(0,a.kt)("p",null,"\u5f53\u4f60\u80fd\u591f\u660e\u786e\u7684\u77e5\u9053, \u5b83\u662f\u80fd\u6839\u636e ",(0,a.kt)("strong",{parentName:"p"},".img")," \u8fd9\u4e2a\u7c7b\u540d\u83b7\u53d6\u5230 dom \u5143\u7d20,\u800c\u4e14\u4f60\u4e5f\u80fd\u591f\u786e\u5b9a\u5b83\u62ff\u5230\u7684\u662f\u4e00\u4e2a ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLImageElement")," \u5bf9\u8c61\u65f6 \u5c31\u53ef\u4ee5\u4f7f\u7528 \u65ad\u8a00 ",(0,a.kt)("inlineCode",{parentName:"p"},"as")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const imgEl = document.querySelector('.img') as HTMLImageElement;\n\nimgEl.src = 'xxx';\nimgEl.alt = 'qqq';\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u65ad\u8a00\u7684\u89c4\u5219: \u65ad\u8a00\u53ea\u80fd\u65ad\u8a00\u6210\u66f4\u52a0\u5177\u4f53\u7684\u7c7b\u578b, \u6216\u8005 \u4e0d\u592a\u5177\u4f53(any / unknown)\u7684\u7c7b\u578b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const grade: number = 1;\nconst grade1 = grade as string;\n// \u7c7b\u578b "number" \u5230\u7c7b\u578b "string" \u7684\u8f6c\u6362\u53ef\u80fd\u662f\u9519\u8bef\u7684\uff0c\u56e0\u4e3a\u4e24\u79cd\u7c7b\u578b\u4e0d\u80fd\u5145\u5206\u91cd\u53e0\u3002\u5982\u679c\u8fd9\u662f\u6709\u610f\u7684\uff0c\u8bf7\u5148\u5c06\u8868\u8fbe\u5f0f\u8f6c\u6362\u4e3a "unknown"\u3002\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const grade: number = 1;\nconst grade1 = grade as any\nconst grade2 = grade1 as string\n")),(0,a.kt)("h2",{id:"\u975e\u7a7a\u7c7b\u578b\u65ad\u8a00-"},"\u975e\u7a7a\u7c7b\u578b\u65ad\u8a00 ",(0,a.kt)("inlineCode",{parentName:"h2"},"!")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u975e\u7a7a\u7c7b\u578b\u65ad\u8a00\u4f7f\u7528\u7684\u662f !"),", \u8868\u793a\u53ef\u4ee5\u786e\u5b9a\u67d0\u4e2a\u6807\u8bc6\u7b26\u662f\u6709\u503c\u7684,\u8df3\u8fc7 TS \u5728\u7f16\u8bd1\u9636\u6bb5\u5bf9\u5b83\u8fdb\u884c\u76d1\u6d4b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"interface IPerson {\n  name: string;\n  grade: number;\n  friend?: {\n    name: string,\n  };\n}\n\nconst info: IPerson = {\n  name: '',\n  grade: 0,\n};\n\nconsole.log(info.friend?.name);\n")),(0,a.kt)("p",null,"\u5f53\u5bf9\u8c61\u91cc\u9762\u4e0d\u5b58\u5728 ",(0,a.kt)("strong",{parentName:"p"},"friend"),"\u5c5e\u6027\u7684\u65f6\u5019,\u4f60\u53bb\u8bbf\u95ee ",(0,a.kt)("strong",{parentName:"p"},"friend"),"\u91cc\u9762\u7684\u503c\u7684\u65f6\u5019,\u4f1a\u62a5\u9519, \u6240\u4ee5\u6211\u4eec\u4e00\u822c\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u53ef\u9009\u94fe")," \u7684\u65b9\u5f0f"),(0,a.kt)("p",null,"\u4f46\u662f\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u53ef\u9009\u94fe")," \u4e0d\u80fd\u8fdb\u884c\u8d4b\u503c\u64cd\u4f5c"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518220010.png",alt:"\u53ef\u9009\u94fe\u8d4b\u503c error"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6848\u4e00 : \u7c7b\u578b\u7f29\u5c0f")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"if (info.friend) {\n  info.friend.name = 'qwe';\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6848\u4e8c : \u975e\u7a7a\u65ad\u8a00")),(0,a.kt)("p",null,"\u7b49\u4e8e\u662f\u5f3a\u5236\u544a\u8bc9 TS,\u6211\u8fd9\u91cc\u4e0d\u4e3a\u7a7a,\u4f60\u53ef\u4ee5\u7ed9\u6211\u8d4b\u503c ",(0,a.kt)("mark",null,"\u5371\u9669 \u26a0\ufe0f")," ",(0,a.kt)("strong",{parentName:"p"},"\u53ea\u6709\u786e\u4fdd friend \u6709\u503c\u7684\u60c5\u51b5\u4e0b,\u624d\u80fd\u4f7f\u7528")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"info.friend!.name = 'qwe';\n")),(0,a.kt)("p",null,"\u5f53\u6211\u4eec\u7f16\u5199\u4e0b\u9762\u7684\u4ee3\u7801\u65f6,\u5728\u6267\u884c TS \u7684\u7f16\u8bd1\u9636\u6bb5\u4f1a\u62a5\u9519\n\u8fd9\u662f\u56e0\u4e3a\u4f20\u5165\u7684 message \u6709\u53ef\u80fd\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined"),",\u8fd9\u4e2a\u65f6\u5019\u65b9\u6cd5\u662f\u4e0d\u80fd\u6267\u884c\u7684"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230518215414.png",alt:"\u975e\u7a7a\u65ad\u8a00"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function printMessage(message?: string) {\n  console.log(message?.toUpperCase());  // \u66f4\u63a8\u8350\u4f7f\u7528\u53ef\u9009\u94fe\n  console.log(message!.toUpperCase());\n}\n\nprintMessage();\n")),(0,a.kt)("h2",{id:"\u5b57\u9762\u91cf\u7c7b\u578b-literal-types"},"\u5b57\u9762\u91cf\u7c7b\u578b literal types"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u5b57\u9762\u91cf\u7c7b\u578b")," \u4e00\u822c\u914d\u5408\u8054\u5408\u7c7b\u578b\u6765\u4f7f\u7528\u7684"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type Direction = 'left' | 'right' | 'top' | 'bottom';\n\nfunction printDirection(direction: Direction) {\n  console.log(direction);\n}\n\nprintDirection('top');\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230519001936.png",alt:"\u5b57\u9762\u91cf\u7c7b\u578b"})),(0,a.kt)("h3",{id:"\u4f7f\u7528\u573a\u666f"},"\u4f7f\u7528\u573a\u666f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type Methods = 'GET' | 'POST' | 'DELETE' | 'PATCH' | 'PUT';\n\ntype RequestArguments = {\n  url: string,\n  method: Methods,\n};\n\ntype RequestFn = (args: RequestArguments) => void;\n\nconst request: RequestFn = args => {\n  console.log(args.url, args.method);\n};\n\nrequest({ url: 'http://test.com/api', method: 'GET' });\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"info \u662f\u4e00\u4e2a string \u7c7b\u578b\u7684\u6ca1\u6709\u95ee\u9898, \u4f46\u662f method \u4e5f\u662f\u4e00\u4e2a string \u7c7b\u578b, TS \u4e0d\u4e00\u5b9a\u80fd\u591f\u5224\u65ad\u51fa\u4f60\u662f\u5426\u7b26\u5408 ",(0,a.kt)("inlineCode",{parentName:"p"},"Methods")," \u8fd9\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b, \u6240\u4ee5\u4f1a\u62a5\u9519")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"info = {\n  url: string,\n  method: string,\n};\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230519002752.png",alt:"\u5b57\u9762\u91cf\u7ec6\u8282"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6848 1 \u4f7f\u7528\u7c7b\u578b\u65ad\u8a00")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const info = {\n  url: 'xxx',\n  method: 'GET' as 'GET',\n};\nrequest(info);\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6848 2 \u8ba9 info \u5bf9\u8c61\u7c7b\u578b\u662f\u4e00\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const info: { url: string, method: 'GET' } = {\n  url: 'xxx',\n  method: 'GET',\n};\nrequest(info);\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6848 3 as const")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const info = {\n  url: 'xxx',\n  method: 'GET',\n} as const;\n\nrequest(info);\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/oldqin97/cloudImg/main/blogs/picture/20230519003337.png",alt:"as const"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"as const")," \u662f TS \u8fdb\u884c\u5b57\u9762\u91cf\u63a8\u7406, \u628a info \u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"string \u7c7b\u578b")," \u8f6c\u6362\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"\u5b57\u9762\u91cf\u7c7b\u578b")),(0,a.kt)("h2",{id:"\u7c7b\u578b\u7f29\u5c0f-type-narrowing"},"\u7c7b\u578b\u7f29\u5c0f Type Narrowing"),(0,a.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c\u4e8e ",(0,a.kt)("inlineCode",{parentName:"p"},"typeof xxx === 'number'")," \u7684\u5224\u65ad\u8bed\u53e5, \u6765\u6539\u53d8 TS \u7684\u6267\u884c\u8def\u5f84\n\u5728\u7ed9\u5b9a\u7684\u6267\u884c\u8def\u5f84\u4e2d,\u6211\u4eec\u53ef\u4ee5 ",(0,a.kt)("mark",null,"\u7f29\u5c0f\u6bd4\u58f0\u660e\u65f6\u66f4\u5c0f\u7684\u7c7b\u578b"),", \u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e4b\u4e3a \u7f29\u5c0f (Narrowing)\n\u800c\u6211\u4eec\u7f16\u5199\u7684\u8bed\u53e5 ",(0,a.kt)("inlineCode",{parentName:"p"},"typeof xxx === 'number'")," \u53ef\u4ee5\u79f0\u4e4b\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"\u7c7b\u578b\u4fdd\u62a4(type guards)")),(0,a.kt)("h3",{id:"\u5e38\u89c1\u7684\u7c7b\u578b\u4fdd\u62a4\u6709\u5982\u4e0b\u51e0\u79cd"},"\u5e38\u89c1\u7684\u7c7b\u578b\u4fdd\u62a4\u6709\u5982\u4e0b\u51e0\u79cd"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"typeof"),(0,a.kt)("li",{parentName:"ul"},"=== / !== (\u5e73\u7b49\u7f29\u5c0f, \u53ef\u4ee5\u4f7f\u7528 switch \u6216\u8005\u76f8\u7b49\u7684\u4e00\u4e9b\u8fd0\u7b97\u7b26\u6765\u8868\u8fbe\u76f8\u7b49\u6027)"),(0,a.kt)("li",{parentName:"ul"},"instanceof"),(0,a.kt)("li",{parentName:"ul"},"in")),(0,a.kt)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"typeof")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function printID(id: number | string) {\n  if (typeof id === 'string') {\n    console.log(id.toUpperCase());\n    // \u5728\u8fd9\u4e2a\u7ed3\u6784\u4f53\u4e2d TS \u53ef\u4ee5\u786e\u5b9a id \u4e00\u5b9a\u4e3a string\n  } else {\n    console.log(id.toFixed(1));\n    // \u5728\u8fd9\u4e2a\u7ed3\u6784\u4f53\u4e2d TS \u53ef\u4ee5\u786e\u5b9a id \u4e00\u5b9a\u4e3a number\n  }\n}\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"=== / !== \u5e73\u7b49\u7f29\u5c0f")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"type Direction = 'left' | 'right' | 'center';\n\nfunction turnDirection(direction: Direction) {\n  switch (direction) {\n    case 'left':\n      console.log('left');\n      break;\n    case 'right':\n      console.log('right');\n      break;\n    case 'center':\n      console.log('center');\n      break;\n    default:\n      const never: never = direction;\n  }\n}\n\nturnDirection('right');\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"instanceof")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function printDate(date: string | Date) {\n  if (date instanceof Date) {\n    console.log(date.getTime());\n  } else if (typeof date === 'string') {\n    console.log(date.toUpperCase());\n  }\n}\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"in")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"interface ISwim {\n  swim: () => void;\n}\n\ninterface IRun {\n  run: () => void;\n}\n\nfunction move(animal: ISwim | IRun) {\n  if ('swim' in animal) {\n    animal.swim();\n  } else if ('run' in animal) {\n    animal.run();\n  }\n}\n\nconst fish: ISwim = {\n  swim() {},\n};\n\nconst dog: IRun = {\n  run() {},\n};\n\nconst test = {\n  run1() {},\n};\n\nmove(dog);\nmove(fish);\nmove(test); // error \u7c7b\u578b\u201c{ run1(): void; }\u201d\u7684\u53c2\u6570\u4e0d\u80fd\u8d4b\u7ed9\u7c7b\u578b\u201cISwim | IRun\u201d\u7684\u53c2\u6570\u3002\n")))}u.isMDXComponent=!0}}]);